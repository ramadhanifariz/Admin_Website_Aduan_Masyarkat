<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Admin_Postingan</title>
  <link rel="stylesheet" href="css/output.css"/>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="bg-white text-slate-50">
  <div class="flex">
    <aside class="bg-sky-800 w-64 p-4 fixed top-0 left-0 h-screen z-10 flex flex-col justify-between">
      <div>
        <h1 class="text-xl font-semibold my-2 text-center">Admin Kontrol</h1>
        <hr class="my-4 border-t-3">
        <nav class="mt-4">
          <a href="admin_beranda.html" class="flex items-center gap-2 p-2">   
            <img src="../asset/beranda.png" alt="beranda" class="invert brightness-0 w-6 h-6">                
            Beranda
          </a>
          <a href="admin_pengguna.html" class="flex items-center gap-2 p-2 mt-2">
            <img src="../asset/pengguna.png" alt="pengguna" class="invert brightness-0 w-6 h-6"> 
            Pengguna
          </a>
          <a href="admin_postingan.html" class="flex items-center gap-2 p-2 mt-2 rounded-lg bg-white text-gray-800 font-semibold">
            <img src="../asset/kirim.png" alt="postingan" class="w-6 h-6"> 
            Postingan
          </a>
        </nav>
      </div>

      <div class="mb-2">
        <a href="#" class="flex items-center gap-2 p-2 mb-2">
          <img src="../asset/pengaturan.png" alt="pengaturan" class="invert brightness-0 w-6 h-6"> 
          Pengaturan
        </a>
        <a href="#" class="flex items-center gap-2 p-2">
          <img src="../asset/informasi.png" alt="bantuan" class="invert brightness-0 w-6 h-6"> 
          Bantuan
        </a>
      </div>
    </aside>

    <div class="flex-1 ml-64 h-screen overflow-hidden flex flex-col">
      <div class="bg-white p-4 sticky top-0 z-10">
        <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 mb-2">
          <div class="relative w-full sm:w-1/2">
            <img src="../asset/pencarian.png" alt="cari" class="absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5">
            <input type="text" placeholder="Cari disini . . . ." class="w-1/2 p-1 pl-10 rounded-full bg-sky-200 placeholder-slate-950 focus:outline-none">
          </div>
          <div class="flex items-center gap-2">
            <button class="p-1 rounded-full border border-slate-950">
              <img src="../asset/peringatan.png" alt="peringatan" class="w-6 h-6">
            </button>
            <div class="bg-sky-200 px-3 py-1 rounded-full text-sm font-semibold">
              <div class="flex items-center flex-row-reverse gap-1">
                <div class="h-7 w-7 rounded-full bg-gradient-to-l from-sky-800 to-sky-300 overflow-hidden ml-2">
                  <img src="../asset/foto.png" alt="profil" class="h-full w-full object-cover">
                </div>
                <span class="text-slate-950">Windah Baturingan</span>
              </div>
            </div>                  
          </div>
        </div>
        <hr class="my-4 border-t-4 text-sky-800">
      </div>

      <main class="p-4 overflow-y-auto flex-1">
        <div class="grid grid-cols-1">
          <div class="bg-white border rounded-lg p-4 border-sky-800">  
            <h2 class="font-bold text-xl mb-5 text-slate-950">Keuangan</h2>       
            <div class="flex gap-4 w-full">
              <div class="mt-5 mb-4 w-1/2"> 
                <label class="block text-lg font-medium mb-1 text-slate-950">Penduduk</label>
                <input type="text" placeholder="Masukkan Jumlah" class="w-full border border-sky-400 hover:border-sky-600 p-2 rounded-lg text-slate-950">      
              </div>
              <div class="mt-5 mb-4 w-1/2"> 
                <label class="block text-lg font-medium mb-1 text-slate-950">Kepala Keluarga</label>
                <input type="text" placeholder="Masukkan Jumlah" class="w-full border border-sky-400 hover:border-sky-600 p-2 rounded-lg text-slate-950">      
              </div>
            </div>    
            <div class="flex gap-4 w-full">
              <div class="mt-5 mb-4 w-1/2"> 
                <label class="block text-lg font-medium mb-1 text-slate-950">Perempuan</label>
                <input type="text" placeholder="Masukkan Jumlah" class="w-full border border-sky-400 hover:border-sky-600 p-2 rounded-lg text-slate-950">      
              </div>
              <div class="mt-5 mb-4 w-1/2"> 
                <label class="block text-lg font-medium mb-1 text-slate-950">Laki laki</label>
                <input type="text" placeholder="Masukkan Jumlah" class="w-full border border-sky-400 hover:border-sky-600 p-2 rounded-lg text-slate-950">      
              </div>
            </div>     
            <div class="flex gap-4 w-full mt-5">    
              <button class="bg-sky-600 hover:bg-sky-700 rounded-lg flex-1 h-10 text-center text-white">Batal</button>
              <button class="bg-sky-600 hover:bg-sky-700 rounded-lg flex-1 h-10 text-center text-white">Simpan</button>
            </div>                                            
          </div>
        </div>

        <div class="grid grid-cols-1 mt-10">
          <div class="bg-white border rounded-lg p-4 border-sky-800">                             
            <form id="chartForm" class="my-4">
              <div class="mb-4">
                <label class="block mb-2 text-lg font-medium text-slate-950">Jenis Grafik</label>      
                <select id="chartType" class="w-full p-2 border border-sky-400 hover:border-sky-600 rounded-lg text-slate-950">
                  <option value="bar">Bar</option>
                  <option value="pie">Pie</option>
                  <option value="line">Line</option>
                </select>                        
              </div>
              <div class="mb-4">
                <label class="block mb-2 text-lg font-medium text-slate-950">Label (Jenis Kelamin, Pendidikan, Pekerjaan)</label>
                <input type="text" id="labelsInput" placeholder="Perempuan, Laki laki" class="w-full p-2 border border-sky-400 hover:border-sky-600 rounded-lg text-slate-600">  
              </div>
              <div class="mb-4">
                <label class="block mb-2 text-lg font-medium text-slate-950">Nilai (10, 20, 30)</label>
                <input type="text" id="dataInput" placeholder="10, 20, 30" class="w-full p-2 border border-sky-400 hover:border-sky-600 rounded-lg text-slate-600">
              </div>
              <div class="flex gap-4 w-full mt-8">
                <button type="submit" class="bg-sky-600 hover:bg-sky-700 rounded-lg flex-1 h-10 text-center text-slate-50">Tampilkan</button>
                <button class="bg-sky-600 hover:bg-sky-700 rounded-lg flex-1 h-10 text-center text-white">Batal</button>
                <button class="bg-sky-600 hover:bg-sky-700 rounded-lg flex-1 h-10 text-center text-white">Simpan</button>
              </div>
            </form>
            <div class="mt-6 h-100">
              <canvas id="demografiChart"></canvas>
            </div>
          </div>
        </div>
      </main>

    </div>
  </div>

  <script>
    const ctx = document.getElementById('demografiChart').getContext('2d');
    let chart;

    document.getElementById('chartForm').addEventListener('submit', function (e) {
      e.preventDefault();

      const type = document.getElementById('chartType').value;
      const labels = document.getElementById('labelsInput').value.split(',').map(x => x.trim());
      const data = document.getElementById('dataInput').value.split(',').map(x => parseFloat(x));

      if (chart) chart.destroy();

      chart = new Chart(ctx, {
        type: type,
        data: {
          labels: labels,
          datasets: [{
            label: 'Data Demografi',
            data: data,
            backgroundColor: [
              'rgba(255, 99, 132, 0.6)',
              'rgba(54, 162, 235, 0.6)',
              'rgba(255, 206, 86, 0.6)',
              'rgba(75, 192, 192, 0.6)',
              'rgba(153, 102, 255, 0.6)',
              'rgba(255, 159, 64, 0.6)'
            ],
            borderWidth: 1
          }]
        },
        options: {
          responsive: true,
          scales: type === 'bar' || type === 'line' ? {
            y: { beginAtZero: true }
          } : {}
        }
      });
    });
  </script>
</body>
</html>
